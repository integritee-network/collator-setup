{{#each collators }}
[collator_{{@index}}]
{{ this.ipAddress }}

[collator_{{@index}}:vars]
ansible_user={{ this.sshUser }}
telemetryUrl={{ ../collatorTelemetryUrl }}
loggingFilter='{{{ ../collatorLoggingFilter }}}'
nodeName={{ this.nodeName }}
is_collator=True

{{/each}}

{{#each publicNodes }}
[publicNode_{{@index}}]
{{ this.ipAddress }}

[publicNode_{{@index}}:vars]
ansible_user={{ this.sshUser }}
telemetryUrl={{ ../collatorTelemetryUrl }}
loggingFilter='{{{ ../collatorLoggingFilter }}}'
nodeName={{ this.nodeName }}
enable_reverse_proxy=True
is_public=True

{{/each}}


[collator:children]
{{#each collators }}
collator_{{@index}}
{{/each}}

[publicNode:children]
{{#each publicNodes }}
publicNode_{{@index}}
{{/each}}

[all:vars]
project={{ project }}
ansible_ssh_common_args='-o StrictHostKeyChecking=no -o ConnectTimeout=25 -o ControlMaster=no -o UserKnownHostsFile=/dev/null'
collator_binary_url='{{ collatorBinaryUrl }}'
collator_binary_checksum='{{ collatorBinaryChecksum }}'
parachain='{{ parachain }}'
relaychain='{{ relaychain }}'
polkadot_network_id='{{ parachainNetworkId }}'
build_dir={{ buildDir }}
nginx_user='{{ nginxUsername }}'
nginx_password='{{ nginxPassword }}'
node_exporter_enabled='{{ nodeExporterEnabled }}'
node_exporter_binary_url='{{ nodeExporterBinaryUrl }}'
node_exporter_binary_checksum='{{ nodeExporterBinaryChecksum }}'
polkadot_restart_enabled='{{ polkadotRestartEnabled }}'
polkadot_restart_minute='{{ polkadotRestartMinute }}'
polkadot_restart_hour='{{ polkadotRestartHour }}'
polkadot_restart_day='{{ polkadotRestartDay }}'
polkadot_restart_month='{{ polkadotRestartMonth }}'
polkadot_restart_weekday='{{ polkadotRestartWeekDay }}'
parachain_additional_common_flags='{{{ parachainAdditionalCommonFlags }}}'
parachain_additional_collator_flags='{{{ parachainAdditionalCollatorFlags }}}'
parachain_additional_public_flags='{{{ parachainAdditionalPublicFlags }}}'
polkadot_db_snapshot_url='{{{ dbSnapshotUrl }}}'
polkadot_db_snapshot_checksum='{{{ dbSnapshotChecksum }}}'
